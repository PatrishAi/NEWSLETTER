<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title></title>

  <!-- MailerLite Universal (Twoje konto) -->
  <script>
    (function(w,d,e,u,f,l,n){
      w[f]=w[f]||function(){(w[f].q=w[f].q||[]).push(arguments);};
      l=d.createElement(e); l.async=1; l.src=u;
      n=d.getElementsByTagName(e)[0]; n.parentNode.insertBefore(l,n);
    })(window, document, 'script', 'https://assets.mailerlite.com/js/universal.js', 'ml');

    ml('account', '2044515');
  </script>

  <style>
    /* Czyste tło – bez żadnych napisów */
    html,body{height:100%}
    body{
      margin:0;
      background:#f7dff0; /* delikatny róż, jak w Twoim podglądzie */
      display:grid; place-items:center;
      font-family:system-ui, Arial, sans-serif;
    }
  </style>
</head>
<body>
  <!-- celowo pusto – tylko popup -->

  <script>
    /* Ustawienia formularza */
    const FORM_ID = 'UWMDRa';

    /* 1) Pokaż popup po załadowaniu strony */
    function tryShowPopup(retry=0){
      if (typeof ml === 'function') {
        ml('show', FORM_ID, true);
      } else if (retry < 15) {
        setTimeout(()=>tryShowPopup(retry+1), 200);
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(()=>tryShowPopup(), 500);
    });
    /* dodatkowa próba po 2,5 s (wolniejsze łącza) */
    setTimeout(()=>{ if (typeof ml === 'function') ml('show', FORM_ID, true); }, 2500);

    /* 2) Nie pozwól zamykać pop‑upu kliknięciem w tło ani klawiszem ESC
          – „zabezpieczamy” overlay i klawisz Esc.
          MailerLite wstrzykuje elementy dynamicznie, więc obserwujemy DOM. */
    function hardenPopup() {
      // zablokuj zamykanie ESC
      document.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape') {
          e.stopPropagation();
          e.preventDefault();
          // od razu znów pokaż
          if (typeof ml === 'function') ml('show', FORM_ID, true);
        }
      }, true);

      const stopClick = (el) => {
        if (!el) return;
        el.style.pointerEvents = 'none';     // klik w tło nie zadziała
      };

      // obserwuj i gdy tylko pojawi się overlay, unieszkodliw go
      const obs = new MutationObserver(() => {
        // typowe nazwy nakładki (overlay) w ML – łapiemy szeroko
        const candidates = Array.from(document.querySelectorAll(`
          [class*="overlay"],
          [class*="backdrop"],
          .ml-overlay,
          .ml-popup-overlay,
          .ml-backdrop
        `));
        candidates.forEach(stopClick);

        // jeżeli ktoś kliknie w dokument i pop-up zniknie, pokaż ponownie
        document.addEventListener('click', () => {
          // krótka pauza, żeby ML zdążył ukryć, a my znów pokażemy
          setTimeout(()=>{ if (typeof ml === 'function') ml('show', FORM_ID, true); }, 50);
        }, true);
      });
      obs.observe(document.documentElement, { childList:true, subtree:true });
    }
    hardenPopup();
  </script>
</body>
</html>
